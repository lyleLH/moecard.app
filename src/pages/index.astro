---
import Layout from '~/layouts/PageLayout.astro';
import Header from '~/components/widgets/Header.astro';
import Hero from '~/components/widgets/Hero.astro';
import Features3 from '~/components/widgets/Features3.astro';
import CallToAction from '~/components/widgets/CallToAction.astro';
import Button from '~/components/ui/Button.astro';
import Gallery from '~/components/widgets/Gallery.astro';
import MoeProFeature from '~/components/widgets/MoeProFeature.astro';

// 准备网络图片数据 - 优化内存使用
const galleryImages = [
  { src: 'https://i.postimg.cc/W1cvX7Wr/000000.jpg', alt: 'MoeCard 创作作品' },
  { src: 'https://i.postimg.cc/zfJ11G1G/000001.jpg', alt: 'MoeCard 创作作品' },
  { src: 'https://i.postimg.cc/g0NbcbYq/000002.jpg', alt: 'MoeCard 创作作品' },
  { src: 'https://i.postimg.cc/26tpvdL1/000003.jpg', alt: 'MoeCard 创作作品' },
  { src: 'https://i.postimg.cc/LX5KnQ5d/000004.jpg', alt: 'MoeCard 创作作品' },
  { src: 'https://i.postimg.cc/brS7RG13/000005.jpg', alt: 'MoeCard 创作作品' },
  { src: 'https://i.postimg.cc/QVLRYXbs/000006.jpg', alt: 'MoeCard 创作作品' },
  { src: 'https://i.postimg.cc/SQXRPDrt/000007.jpg', alt: 'MoeCard 创作作品' },
  { src: 'https://i.postimg.cc/Vs3vPnZs/000008.jpg', alt: 'MoeCard 创作作品' },
  { src: 'https://i.postimg.cc/Fs3Rrzwy/000009.jpg', alt: 'MoeCard 创作作品' },
  { src: 'https://i.postimg.cc/T3xPpGXZ/000011.jpg', alt: 'MoeCard 创作作品' },
  { src: 'https://i.postimg.cc/VNGsGCb8/000012.jpg', alt: 'MoeCard 创作作品' },
  { src: 'https://i.postimg.cc/QMxxJbCm/000013.jpg', alt: 'MoeCard 创作作品' },
  { src: 'https://i.postimg.cc/FRYr2HjJ/000014.jpg', alt: 'MoeCard 创作作品' },
  { src: 'https://i.postimg.cc/FRwrmXZC/000015.jpg', alt: 'MoeCard 创作作品' },
  { src: 'https://i.postimg.cc/7h7xZttH/000016.jpg', alt: 'MoeCard 创作作品' }
];

const appStoreDownloadLink = '#';

const metadata = {
  title: 'MoeCard - 让创作更有趣',
};
---

<Layout metadata={metadata}>
  <!-- Header -->
  <Fragment slot="header">
    <Header
      position="center"
      links={[
        { text: '功能介绍', href: '#features', icon: '✨' },
        { text: '创作展示', href: '#showcase', icon: '🎨' },
        { text: '会员特权', href: '#pro', icon: '👑' },
      ]}
      actions={[
        {
          text: '立即下载',
          href: '#download',
          class: 'bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-full'
        },
      ]}
      isSticky
      showToggleTheme
    />
  </Fragment>

  <!-- Hero Section -->
  <div class="relative pt-32 pb-20">
    <Hero
      tagline="让创作更有趣"
    >
      <Fragment slot="title">
        <span class="text-4xl sm:text-5xl font-bold leading-tight tracking-tight mb-4 font-heading">
          <span class="bg-clip-text text-transparent bg-gradient-to-r from-green-500 to-green-400">MoeCard</span>
          <br class="hidden sm:inline"/> 
          <span class="text-gray-900 dark:text-white">可爱而强大的卡片创作工具</span>
        </span>
      </Fragment>

      <Fragment slot="subtitle">
        <p class="text-xl text-gray-600 dark:text-gray-400 mb-6">
          精美字体、丰富表情，让你的创作充满趣味
        </p>
      </Fragment>

      <div slot="actions" class="flex flex-col sm:flex-row justify-center gap-4">
        <Button 
          href={appStoreDownloadLink} 
          class="bg-green-500 hover:bg-green-600 text-white px-8 py-3 rounded-full text-lg"
        >
          立即下载
        </Button>
        <Button 
          href="#features" 
          class="border-2 border-green-500 text-green-500 hover:bg-green-50 px-8 py-3 rounded-full text-lg"
        >
          了解更多
        </Button>
      </div>
    </Hero>
  </div>

  <!-- Features Section -->
  <Features3
    id="features"
    title="功能介绍"
    subtitle="看看能用 MoeCard 创作什么"
    columns={3}
    items={[
      {
        title: '丰富表情',
        description: '内置完整的 Twemoji 表情包，让设计更有趣',
        icon: '😊',
      },
      {
        title: '无限草稿',
        description: '随时保存创作进度，灵感不中断',
        icon: '📝',
      },
      {
        title: '自定义素材',
        description: '导入你喜欢的图片，让创作更自由',
        icon: '🖼️',
      },
      {
        title: '无水印导出',
        description: '高���作品导出，分享更专业',
        icon: '⬇️',
      },
      {
        title: '字体管理',
        description: '支持自定义字体，让文字更有个性',
        icon: '🔤',
      },
      {
        title: '一键分享',
        description: '快速分享到社交平台，传播更轻松',
        icon: '🔗',
      },
    ]}
    classes={{
      container: 'max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12',
      panel: 'bg-white dark:bg-slate-900 shadow-lg rounded-lg p-6 h-full',
      title: 'text-3xl font-bold text-center text-gray-900 dark:text-white mb-8',
      subtitle: 'text-xl text-center text-gray-600 dark:text-gray-400 mb-12',
      description: 'text-gray-600 dark:text-gray-400',
      icon: 'text-green-500 dark:text-green-400 w-12 h-12'
    }}
  />

  <!-- Gallery Section -->
  <div id="showcase">
    <!-- <Gallery
      title="创作展示"
      subtitle="看看大家都创作了什么"
      images={galleryImages}
      classes={{
        container: 'bg-gray-50 dark:bg-slate-800 py-16',
        title: 'text-3xl font-bold text-gray-900 dark:text-white',
        subtitle: 'text-xl text-gray-600 dark:text-gray-400',
        grid: 'px-4 sm:px-6'
      }}
    /> -->
  </div>

  <!-- Pro Features -->
  <div id="pro">
    <MoeProFeature
      classes={{
        container: 'max-w-7xl mx-auto',
        headline: {
          title: 'text-4xl font-bold text-center mb-4',
          subtitle: 'text-xl text-gray-600 dark:text-gray-400 text-center mb-12'
        }
      }}
    />
  </div>

  <!-- Download CTA -->
  <CallToAction
    id="download"
    title="开始你的创作之旅"
    subtitle="下载 MoeCard，让创作充满乐趣"
    classes={{
      container: 'max-w-7xl mx-auto py-20',
      title: 'text-4xl font-bold',
      subtitle: 'text-xl'
    }}
  >
    <div slot="actions" class="flex justify-center mt-8">
      <Button 
        href={appStoreDownloadLink} 
        class="bg-green-500 hover:bg-green-600 text-white text-xl px-10 py-4 rounded-full shadow-lg hover:shadow-xl transition-all duration-200"
      >
        立即下载
      </Button>
    </div>
  </CallToAction>
</Layout>
