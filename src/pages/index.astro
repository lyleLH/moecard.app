---
import Layout from '~/layouts/PageLayout.astro';
import Header from '~/components/widgets/Header.astro';
import Hero from '~/components/widgets/Hero.astro';
import Features3 from '~/components/widgets/Features3.astro';
import CallToAction from '~/components/widgets/CallToAction.astro';
import Button from '~/components/ui/Button.astro';
import Gallery from '~/components/widgets/Gallery.astro';
import MoeProFeature from '~/components/widgets/MoeProFeature.astro';

// 导入所有示例图片
const sampleImages = await Astro.glob('../assets/images/samples/*.JPG');
const galleryImages = sampleImages.map((image) => ({
  src: image.default,
  alt: 'MoeCard 创作作品'
}));

const appStoreDownloadLink = '#';

const metadata = {
  title: 'MoeCard - 让创作更有趣',
};
---

<Layout metadata={metadata}>
  <!-- Header -->
  <Fragment slot="header">
    <Header
      position="center"
      links={[
        { text: '功能介绍', href: '#features' },
        { text: '创作展示', href: '#showcase' },
        { text: '会员特权', href: '#pro' },
      ]}
      actions={[
        {
          text: '立即下载',
          href: '#download',
          class: 'bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-full'
        },
      ]}
      isSticky
      showToggleTheme
    />
  </Fragment>

  <!-- Hero Section -->
  <div class="relative pt-32 pb-20">
    <Hero
      tagline="让创作更有趣"
    >
      <Fragment slot="title">
        <span class="text-4xl sm:text-5xl font-bold leading-tight tracking-tight mb-4 font-heading">
          <span class="bg-clip-text text-transparent bg-gradient-to-r from-green-500 to-green-400">MoeCard</span>
          <br class="hidden sm:inline"/> 
          <span class="text-gray-900 dark:text-white">可爱而强大的卡片创作工具</span>
        </span>
      </Fragment>

      <Fragment slot="subtitle">
        <p class="text-xl text-gray-600 dark:text-gray-400 mb-6">
          精美字体、丰富表情，让你的创作充满趣味
        </p>
      </Fragment>

      <div slot="actions" class="flex flex-col sm:flex-row justify-center gap-4">
        <Button 
          href={appStoreDownloadLink} 
          class="bg-green-500 hover:bg-green-600 text-white px-8 py-3 rounded-full text-lg"
        >
          立即下载
        </Button>
        <Button 
          href="#features" 
          class="border-2 border-green-500 text-green-500 hover:bg-green-50 px-8 py-3 rounded-full text-lg"
        >
          了解更多
        </Button>
      </div>
    </Hero>
  </div>

  <!-- Features Section -->
  <Features3
    id="features"
    title="功能介绍"
    subtitle="看看能用 MoeCard 创作什么"
    columns={3}
    items={[
      {
        title: '丰富表情',
        description: '内��完整的 Twemoji 表情包，让设计更有趣',
        icon: 'tabler:mood-smile',
      },
      {
        title: '无限草稿',
        description: '随时保存创作进度，灵感不中断',
        icon: 'tabler:edit',
      },
      {
        title: '自定义素材',
        description: '导入你喜欢的图片，让创作更自由',
        icon: 'tabler:photo',
      },
      {
        title: '无水印导出',
        description: '高清作品导出，分享更专业',
        icon: 'tabler:download',
      },
      {
        title: '字体管理',
        description: '支持自定义字体，让文字更有个性',
        icon: 'tabler:typography',
      },
      {
        title: '一键分享',
        description: '快速分享到社交平台，传播更轻松',
        icon: 'tabler:share',
      },
    ]}
    classes={{
      container: 'max-w-6xl',
      panel: 'bg-white dark:bg-slate-900 shadow-lg rounded-lg p-6',
      title: 'text-3xl font-bold text-gray-900 dark:text-white',
      description: 'text-gray-600 dark:text-gray-400',
      icon: 'text-green-500 dark:text-green-400'
    }}
  />

  <!-- Gallery Section -->
  <div id="showcase">
    <Gallery
      title="创作展示"
      subtitle="看看大家都创作了什么"
      images={galleryImages}
      classes={{
        container: 'bg-gray-50 dark:bg-slate-800 py-16',
        title: 'text-3xl font-bold text-gray-900 dark:text-white',
        subtitle: 'text-xl text-gray-600 dark:text-gray-400',
        grid: 'px-4 sm:px-6'
      }}
    />
  </div>

  <!-- Pro Features -->
  <MoeProFeature
    id="pro"
    classes={{
      container: 'max-w-6xl py-16',
      headline: {
        title: 'text-3xl font-bold text-center',
        subtitle: 'text-xl text-gray-600 dark:text-gray-400 text-center'
      }
    }}
  />

  <!-- Download CTA -->
  <CallToAction
    id="download"
    title="开始你的创作之旅"
    subtitle="下载 MoeCard，让创作充满乐趣"
    classes={{
      container: 'max-w-6xl py-20',
      title: 'text-4xl font-bold',
      subtitle: 'text-xl'
    }}
  >
    <div slot="actions" class="flex justify-center mt-8">
      <Button 
        href={appStoreDownloadLink} 
        class="bg-green-500 hover:bg-green-600 text-white text-xl px-10 py-4 rounded-full shadow-lg hover:shadow-xl transition-all duration-200"
      >
        立即下载
      </Button>
    </div>
  </CallToAction>
</Layout>
