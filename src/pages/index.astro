---
import Layout from '~/layouts/PageLayout.astro';
import Header from '~/components/widgets/Header.astro';
import Hero from '~/components/widgets/Hero.astro';
import Features3 from '~/components/widgets/Features3.astro';
import CallToAction from '~/components/widgets/CallToAction.astro';
import Button from '~/components/ui/Button.astro';
import Gallery from '~/components/widgets/Gallery.astro';
import MoeProFeature from '~/components/widgets/MoeProFeature.astro';
import { useTranslations } from '~/i18n/utils';

const t = useTranslations('en');

// Gallery images data
const galleryImages = [
  { src: 'https://i.postimg.cc/W1cvX7Wr/000000.jpg', alt: 'MoeCard Creation' },
  { src: 'https://i.postimg.cc/zfJ11G1G/000001.jpg', alt: 'MoeCard Creation' },
  { src: 'https://i.postimg.cc/g0NbcbYq/000002.jpg', alt: 'MoeCard Creation' },
  { src: 'https://i.postimg.cc/26tpvdL1/000003.jpg', alt: 'MoeCard Creation' },
  { src: 'https://i.postimg.cc/LX5KnQ5d/000004.jpg', alt: 'MoeCard Creation' },
  { src: 'https://i.postimg.cc/brS7RG13/000005.jpg', alt: 'MoeCard Creation' },
  { src: 'https://i.postimg.cc/QVLRYXbs/000006.jpg', alt: 'MoeCard Creation' },
  { src: 'https://i.postimg.cc/SQXRPDrt/000007.jpg', alt: 'MoeCard Creation' },
  { src: 'https://i.postimg.cc/Vs3vPnZs/000008.jpg', alt: 'MoeCard Creation' },
  { src: 'https://i.postimg.cc/Fs3Rrzwy/000009.jpg', alt: 'MoeCard Creation' },
  { src: 'https://i.postimg.cc/T3xPpGXZ/000011.jpg', alt: 'MoeCard Creation' },
  { src: 'https://i.postimg.cc/VNGsGCb8/000012.jpg', alt: 'MoeCard Creation' },
  { src: 'https://i.postimg.cc/QMxxJbCm/000013.jpg', alt: 'MoeCard Creation' },
  { src: 'https://i.postimg.cc/FRYr2HjJ/000014.jpg', alt: 'MoeCard Creation' },
  { src: 'https://i.postimg.cc/FRwrmXZC/000015.jpg', alt: 'MoeCard Creation' },
  { src: 'https://i.postimg.cc/7h7xZttH/000016.jpg', alt: 'MoeCard Creation' }
];

const appStoreDownloadLink = 'https://apps.apple.com/ca/app/moe-card-app/id6739968751';

const metadata = {
  title: t('site.title') as string,
};

const features = t('features.items') as Array<{
  title: string;
  description: string;
  icon: string;
}>;
---

<Layout metadata={metadata}>
  <!-- Header -->
  <Fragment slot="header">
    <Header
      position="center"
      links={[
        { text: t('nav.features') as string, href: '#features', icon: 'âœ¨' },
        { text: t('nav.showcase') as string, href: '#showcase', icon: 'ðŸŽ¨' },
      ]}
      actions={[
        {
          text: t('nav.download') as string,
          href: '#download',
          class: 'bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-full'
        },
      ]}
      isSticky
      showToggleTheme
    />
  </Fragment>

  <!-- Hero Section -->
  <Hero
    tagline={t('hero.tagline') as string}
  >
    <Fragment slot="title">
      <span class="text-4xl sm:text-5xl font-bold leading-tight tracking-tight mb-4 font-heading">
        <span class="bg-clip-text text-transparent bg-gradient-to-r from-green-500 to-green-400">{t('hero.title.app') as string}</span>
        <br class="hidden sm:inline"/> 
        <span class="text-gray-900 dark:text-white">{t('hero.title.desc') as string}</span>
      </span>
    </Fragment>

    <Fragment slot="subtitle">
      <p class="text-xl text-gray-600 dark:text-gray-400 mb-6">
        {t('hero.subtitle') as string}
      </p>
    </Fragment>

    <div slot="actions" class="flex flex-col sm:flex-row justify-center gap-4">
      <Button 
        href={appStoreDownloadLink} 
        class="bg-green-500 hover:bg-green-600 text-white px-8 py-3 rounded-full text-lg"
      >
        {t('hero.cta.download') as string}
      </Button>
      <Button 
        href="#features" 
        class="border-2 border-green-500 text-green-500 hover:bg-green-50 px-8 py-3 rounded-full text-lg"
      >
        {t('hero.cta.learnMore') as string}
      </Button>
    </div>
  </Hero>

  <!-- Features Section -->
  <Features3
    id="features"
    title={t('features.title') as string}
    subtitle={t('features.subtitle') as string}
    columns={3}
    items={features}
    classes={{
      container: 'max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12',
      panel: 'bg-white dark:bg-slate-900 shadow-lg rounded-lg p-6 h-full',
      title: 'text-3xl font-bold text-center text-gray-900 dark:text-white mb-8',
      subtitle: 'text-xl text-center text-gray-600 dark:text-gray-400 mb-12',
      description: 'text-gray-600 dark:text-gray-400',
      icon: 'text-green-500 dark:text-green-400 w-12 h-12'
    }}
  />

  <!-- Gallery Section -->
  <div id="showcase">
    <Gallery
      title={t('gallery.title') as string}
      subtitle={t('gallery.subtitle') as string}
      images={galleryImages}
      classes={{
        container: 'bg-gray-50 dark:bg-slate-800 py-16',
        title: 'text-3xl font-bold text-gray-900 dark:text-white',
        subtitle: 'text-xl text-gray-600 dark:text-gray-400',
        grid: 'px-4 sm:px-6'
      }}
    />
  </div>

  <!-- Download CTA -->
  <CallToAction
    id="download"
    title={t('cta.title') as string}
    subtitle={t('cta.subtitle') as string}
    classes={{
      container: 'max-w-7xl mx-auto py-20',
      title: 'text-4xl font-bold',
      subtitle: 'text-xl'
    }}
  >
    <div slot="actions" class="flex justify-center mt-8">
      <Button 
        href={appStoreDownloadLink} 
        class="bg-green-500 hover:bg-green-600 text-white text-xl px-10 py-4 rounded-full shadow-lg hover:shadow-xl transition-all duration-200"
      >
        {t('nav.download') as string}
      </Button>
    </div>
  </CallToAction>
</Layout>
